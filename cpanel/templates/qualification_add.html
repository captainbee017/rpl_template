{% extends "dashboard.html" %}
{% load staticfiles bootstrap3 %}

{% block stylesheet %}
	{# upgrade bootstrap switch #}
	<link href="/static/redactor/css/redactor.css" type="text/css" media="all" rel="stylesheet" />
    <link href="/static/redactor/css/django_admin.css" type="text/css" media="all" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/selectize.bootstrap3.css' %}">
	<style>
		.bootstrap-switch { height: 1.7em }

		.hj-row:nth-child(odd){
			background-color: #f5f5f5;
		}
		.hj-row{
		   	margin-right: -1px;
		   	margin-top: 0;
		   	margin-left: 0;
		   	margin-bottom: 0;
		    border-top: 1px solid #ddd;
		}

		#id_category-selectized {
			width: 100% !important;
		}
	</style>
{% endblock stylesheet %}

{% block dashboard_header %}
	<a href="{% url 'cpanel_dashboard' %}" class="">DASHBOARD</a>
{% endblock dashboard_header %}

{% block qualification_header %}
	<div class="col-md-6"><a href="{% url 'qualifications' %}" class="float-xs-right">
		<h3>QUALIFICATIONS</h3><hr>
	</a></div>
{% endblock qualification_header %}

{% block testimonials_header %}
	<div class="col-md-3"><a href="" class="float-xs-right">
		TESTIMONIALS
	</a></div>
{% endblock testimonials_header %}

{% block container %}
	<div class="col-md-8 offset-md-2">
		
	<form action="" method="POST"> {% csrf_token %}
		<div class="col-md-12">
			{% bootstrap_field form.category %}
		</div>
		<div class="col-md-6">
			{% bootstrap_field form.code %}
		</div>
		<div class="col-md-6">
			{% bootstrap_field form.name %}
		</div>
		<div class="col-md-12">
			<label for="" class="">Description</label>
			{% bootstrap_field form.description %}
		</div>
		<div class="col-md-12">
			<label for="" class="">Job Roles</label>
			{% bootstrap_field form.job_roles %}
		</div>
		<div class="col-md-12">
			<label for="" class="">Fees</label>
			{% bootstrap_field form.fees %}
		</div><div class="col-md-12">
			<label for="" class="">Packaging Rule</label>
			{% bootstrap_field form.packaging_rule %}
		</div>
		<div class="col-md-12">
			<button class="btn btn-outline-primary" type="submit" style="border-radius: 0px;">SAVE</button>
		</div>
	</form>
	</div>

{% endblock %}

{% block javascript %}
	<script type="text/javascript" src="/static/redactor/jquery.redactor.init.js"></script>
    <script type="text/javascript" src="/static/redactor/redactor.js"></script>
    <script type="text/javascript" src="/static/redactor/langs/en.js"></script>
	<script src="{% static "js/selectize.min.js" %}"></script>
    <script>
    	$("#id_category").selectize({
    		valueField: 'id',
		    labelField: 'text',
		    searchField: 'text',
   			create: true,
    		sortField: 'text',
    		create: function(query, callback){
    			$.ajax({
    				url: '{% url 'fetch_qualification_category' %}',
    				type: 'POST',
    				data: {
    					'input': query,
    					'csrfmiddlewaretoken': '{{ csrf_token }}'},
    				success: function(res){
    					callback({
    						id: res[0].id,
    						text: res[0].text,
    					});
    				}
    			})
    		},
    		load: function(query, callback){
    			$.ajax({
    				url: '{% url 'fetch_qualification_category' %}',
    				type: 'GET',
    				data: {'text': query},
    				succcess: function(res){
    					callback(res);
    				}
    			})
    		}
    	});
    </script>
{% endblock javascript %}